We will build the basic data structure underlying search engines: an inverted index. We will use this inverted index to answer some simple search queries.
An inverted index for a set of webpages
Suppose we are given a set of webpages W. For our purposes, each webpage w ∈ W will be considered to be a sequence of words w1,w2,...wk. Another way of representing the webpage could be to maintain a list of words along with the position(s) of the words in the webpage. For example consider a web page with the following text:
Data structures is the study of structures for storing data.
This can be represented as {(data : 1,10),(structures : 2,7),(study : 5),(storing : 9)}. Note that the small connector words like “is”, “the”, “of”, “for” have not been stored. Words like this are referred to as stop words and are generally removed since they are very frequent and normally contain no information about the content of the webpage. This representation of the webpage is similar to the index we see at the back of many books which tell us the page numbers where certain important terms used in the book may be found. In fact, we can refer to this as an index for the webpage.An index is used to ﬁnd the location of a particular string (word) in a speciﬁc document or webpage, but when we move to a collection of webpages, we need to ﬁrst ﬁgure out which of the web pages contain the string. For this we store an inverted index. Let us try to deﬁne an inverted index formally. Let us suppose we are given a collection C of webpages. For each pagep ∈ C, let us denote by W(p) the set of all words (excluding stop words) that occur in p. W(c)is the set of all words in our collection.
An inverted index for C will contain an entry for each word w ∈ W(C). This entry will contain tuples of the form (p,k) to indicate that w occurs in the kth position of page p ∈C. Using the notation that p[k] denotes the kth word of page p. For example, consider the following (small) collection of documents.
1: Data structures is the study of structures for storing data. 2: Structural engineers collect data about structures
The inverted index for this would be
{(data : {(1,1), (1,10), (2,4)}), (structures: {(1,2), (1,7), (2,6)}), (study : {(1,5)}), (storing : {(1,9)}), (structural : {(2,1)}), (engineers : {(2,2)}), (collect : {(2,3)}) }
The web search problem
The web search problem is deﬁned as follows: Given a collection of webpagesC and a sequence of words q1 ...qk, ﬁnd the “most relevant” set of pages p1,p2,...p` that contain as many of q1 ...qk as possible and return them in the order of decreasing “relevance.”
The question of how to measure the relevance of a webpage to a particular query is an involved question with no easy answers. However, for the purpose of this project we will work with a simple scoring function.
A scoring function for search term relevance
Given a word w and a webpage p, if w occurs ` times in positions k1,...,k`, the relevance score of the page p for the word w is deﬁned as summation of 1 over indices of positions of that word in a web page. So, if we are given a search query that has a single term, say w, to return the webpages in order of relevance we have to ﬁrst extract the entry corresponding to w from Inv(C) and then calculate the relevance of each page and return the pages in decreasing order of relevance.
Compound searches
In this project we will answer three kinds of search queries: AND queries, OR queries and phrase queries. We now describe these three along with their scoring methodology. 
• OR queries: Given a search query q1 ...qk, any page that contains any of the words q1 to qk is a valid answer. pages are returned in decreasing order of relevance. Note that if some qi does not occur in page p the relevanceqi(p) = 0.
• AND queries: Given a search query q1 ...qk, any page that contains all of the words q1 to qk is a valid answer and pages are returned in decreasing order of relevance.
• Phrase queries : Given a search query q1 ...qk, any page that contains q1 in position `, q2 in position `+1 and so on till qk in position `+k−1 is said to contain the phrase q1 ...qk at the position `. Suppose a webpage p contains the phrase q1 ...qk at positions `1,`2,...`m then the relevance score of page p for this phrase is summation of 1 over (Li)^2 where Li is  index of first word in a phrase in that particular page.

Actions: 
• addPage x Add webpage x to the search engine database. The contents of the webpage are stored in a ﬁle named x in the webpages folder.
• queryFindPagesWhichContainWord x Print the name of the webpages which contain the word x. The list of webpage names should be comma separated. If the word is not found in any webpage, then print “No webpage contains word x” • queryFindPositionsOfWordInAPage x y Print the word indice’s where the word x is found in the document y. The word indices should be separated by a comma. If the word x is not found in webpage y, then print “Webpage y does not contain word x”.
Wordentry class is implemented as an AVL tree to minimise the time taken in our search of words in a page.
• queryFindPagesWhichContainAllWords x1 x2 .. xn: Print the name of the webpages which contain all the words x1, x2, .. xn. The words are separated by a space.
• queryFindPagesWhichContainAnyOfTheseWords x1 x2 .. xn: Print the name of the webpages which contain at least one word from this set { x1, x2, .. xn }. 
• queryFindPagesWhichContainPhrase x1 x2 .. xn: Print the name of the webpages which contain the phrase x1 x2 .. xn. 
